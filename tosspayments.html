<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>결제하기</title>
    <!-- 1. 스크립트 추가 -->
    <script src="https://js.tosspayments.com/v1/payment"></script>
  </head>
  <body>
    <script>
      var clientKey = "test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq"; // 테스트용 클라이언트 키
      // 2. 결제창 SDK 초기화
      var tossPayments = TossPayments(clientKey);
      tossPayments
        .requestPayment("카드", {
          amount: 15000,
          orderId: "Reuvk8T8cDLAYTxM86hve",
          orderName: "토스 티셔츠 외 2건",
          customerName: "박토스",
          successUrl: window.location.origin + "/success",
          failUrl: window.location.origin + "/fail",
        })
        .then(function (data) {
          // 성공 처리: 서버 측에서 결제 승인 API를 호출하세요
        })
        .catch((error) => {
          // 에러 처리: 에러 목록을 확인하세요
          // https://docs.tosspayments.com/reference/error-codes#failurl로-전달되는-에러
          if (error.code === "USER_CANCEL") {
            // 결제 고객이 결제창을 닫았을 때 에러 처리
          } else if (error.code === "INVALID_CARD_COMPANY") {
            // 유효하지 않은 카드 코드에 대한 에러 처리
          }
        });
    </script>
  </body>
</html>
